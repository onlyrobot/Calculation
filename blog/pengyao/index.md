# 目录

1. [需求分析](#需求分析)
2. [软件设计](#软件设计)
3. 代码实现
4. 软件测试
5. 最终效果

## 需求分析

1. 能够自动生成小学四则运算题目
2. 输入命令可以自动生成一千道不重复的题目，并写入到文件备用，不重复的定义为如下：
    > 任何两道题不能通过有限次的$+$和$\times$左右的运算表达变换为同一道题。例如$23+45=$和$45+23=$是重复的题，$6\times8=$和$8\times6=$也是重复的题，类似的多个数字之间如果存在这种关系也不是同一道题，如$3+1+2=$和$1+2+3=$也是重复的。
3. 能够对表达式进行求值并有以下要求：
   1. 表达式最多可达10个运算符，括号的数量不限
   2. 除了整数以外还要支持真分数的四则运算。（例如$\frac1 6+\frac1 8=\frac7 {24}$）
   3. 程序可以接受用户输入的答案，并判定对错，最后给出总对/错数量。
4. 除四则运算外还支持乘方运算，乘方运算的表达方式有两种，分别是"^"和"**"，要求对两种表达方式都可以支持，并能够通过设置来选择其中一种作为当前表达方式。
5. 用Python语言实现跨平台的图形界面，同时增加“倒计时”功能，每个题目必须在20秒钟以内完成，如果完不成，记0分，并进入下一题。
6. 增加“历史记录”功能，把用户的做题成绩记录下来并可以展现历史记录。
7. 对程序进行有效测试，保证可靠性。

## 软件设计

概要：

* 软件名称：Calculation
* 项目地址：[Github地址](https://github.com/onlyrobot/Calculation)

运行环境/软件配置：

* 编程语言：Python3.7
* 操作系统：Windows10/Linux18.04/Mac
* 代码编辑器：Visual Studio Code
* 性能要求：无

体系结构：

|模块名称     |主要功能|
|-------     |--------|
|expression  |定义了表达式的表示方法、如何从字符串中解析表达式、表达式求值等|
|utilities   |包含处理一些封装好的实用工具，如生成表达式|
|terminal    |负责命令行界面交互过程|
|gui         |负责GUI的显示和交互|
|main        |主调函数，根据参数的不同决定使用命令行还是图形界面|

数据文件：

|文件名         |用途     |
|--------------|----------------|
|questions.txt |保存生成好的1000个题目|
|score.dat     |保存历史成绩记录|
|setting.cfg   |保存软件配置信息|
